# Отчет о найденных багах



## БАГ №1: Пустой виджет после генерации превью

### Описание
После выбора тематики и страны и нажатия кнопки "Сгенерировать превью" виджет событий остается пустым, не отображая никаких событий.

### Критичность
**BLOCKER** - блокирует основную функциональность страницы

### Окружение
- **URL**: https://dev.3snet.info/eventswidget/
- **Браузеры**: Воспроизводится во всех браузерах (Chromium, Firefox)
- **Устройства**: Desktop, Tablet, Mobile

### Шаги воспроизведения
1. Открыть страницу https://dev.3snet.info/eventswidget/
2. Дождаться полной загрузки страницы
3. В выпадающем списке выбрать любую доступную тематику
4. В выпадающем списке выбрать любую доступную страну
5. Нажать кнопку "Сгенерировать превью"
6. Дождаться завершения генерации

### Ожидаемый результат
Виджет должен отобразить список событий, соответствующих выбранным критериям:
- Название события
- Дата проведения  
- Страна проведения
- Дополнительная информация (если доступна)

### Фактический результат
Виджет остается пустым. Отображается только структура с заголовками:
- "Название события"
- "Дата проведения"
- "Страны проведения"

Но сами события не загружаются.

### Дополнительная информация

#### Возможные причины
1. **Проблема с API**: Запрос к серверу не возвращает данные
2. **Ошибка фильтрации**: Выбранные критерии не находят соответствующих событий
3. **Проблема с отображением**: События загружаются, но не отображаются в UI
4. **Асинхронная загрузка**: Недостаточное время ожидания загрузки данных

#### Автоматизированный тест
Баг воспроизводится автоматическим тестом:
```python
def test_bug_empty_widget_after_preview_generation(self, events_page):
    # Тест в файле tests/test_events_widget.py
    # Помечен как pytest.xfail() - известный баг
```

#### Логи и ошибки
- Консольные ошибки: *требует проверки*
- Сетевые запросы: *требует анализа*
- Ошибки JavaScript: *требует проверки*

### Воздействие на пользователей
- **Высокое**: Основная функциональность страницы не работает
- **Пользователи не могут**: Просматривать события по выбранным критериям
- **Бизнес-воздействие**: Виджет не выполняет свою основную функцию

### Приоритет исправления
**P0 - Критический** - требует немедленного исправления

### Статус
- **Статус**: Открыт

---

## БАГ №2: Наложение текста при очистке страны

### Описание
После нажатия кнопки "Очистить" для удаления выбранной страны происходит наложение текстовых элементов друг на друга, что ухудшает читаемость интерфейса.

### Критичность
**NORMAL** - влияет на пользовательский опыт, но не блокирует функциональность

### Окружение
- **URL**: https://dev.3snet.info/eventswidget/
- **Браузеры**: Требует проверки во всех браузерах
- **Устройства**: Desktop, Tablet, Mobile

### Шаги воспроизведения
1. Открыть страницу https://dev.3snet.info/eventswidget/
2. Дождаться полной загрузки страницы
3. Выбрать любую страну из выпадающего списка (если доступно)
4. Найти и нажать кнопку "Очистить" рядом с выбором страны
5. Наблюдать за изменениями в интерфейсе

### Ожидаемый результат
После очистки выбора страны интерфейс должен корректно отображать все элементы без наложений.

### Фактический результат
Происходит наложение текстовых элементов, что ухудшает читаемость.

### Автоматизированный тест
```python
def test_bug_text_overlapping_after_clear_country(self, events_page):
    # Тест в tests/test_events_widget.py::TestEventsWidgetUIIssues
    # Создает скриншоты до и после, анализирует наложение элементов
```

### Приоритет исправления
**P2 - Важный** - следует исправить в ближайшем релизе

### Статус
- **Статус**: Открыт

---


### Автоматизированные тесты
Созданы следующие тесты для проверки функциональности:

1. `test_generate_preview_button_exists` - проверка наличия кнопки
2. `test_selectors_exist` - проверка наличия селекторов
3. `test_selector_options_available` - проверка опций в селекторах
4. `test_bug_empty_widget_after_preview_generation` - воспроизведение бага
5. `test_preview_generation_without_selection` - тест без выбора параметров
6. `test_selectors_interactivity` - проверка интерактивности

### Запуск тестов
```bash
# Все тесты генератора превью
pytest tests/test_events_widget.py::TestEventsWidgetPreviewGenerator -v

# Конкретный тест бага
pytest tests/test_events_widget.py::TestEventsWidgetPreviewGenerator::test_bug_empty_widget_after_preview_generation -v

# С Allure отчетом
pytest tests/test_events_widget.py::TestEventsWidgetPreviewGenerator -v --alluredir=allure-results
allure serve allure-results
```